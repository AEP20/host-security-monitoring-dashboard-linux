{% extends "layout.html" %}

{% block page_title %}
Processes
{% endblock %}

{% block extra_styles %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/processes.css') }}">
{% endblock %}

{% block content %}

<div class="process-container">

    <!-- TAB HEADERS -->
    <div class="tabs">
        <button class="tab active" data-tab="active">Active Processes</button>
        <button class="tab" data-tab="events">Process Events</button>
    </div>

    <!-- --------------------------- -->
    <!-- ACTIVE PROCESSES TABLE -->
    <!-- --------------------------- -->
    <div id="tab-active" class="tab-content active">
        <h2>Active Processes</h2>

        <table class="table">
            <thead>
                <tr>
                    <th>PID</th>
                    <th>Name</th>
                    <th>User</th>
                    <th>CPU%</th>
                    <th>MEM%</th>
                    <th>Cmdline</th>
                    <th>Kill</th>
                </tr>
            </thead>
            <tbody id="active-process-table"></tbody>
        </table>
    </div>

    <!-- --------------------------- -->
    <!-- PROCESS EVENTS TABLE -->
    <!-- --------------------------- -->
    <div id="tab-events" class="tab-content">
        <h2>Process Event History</h2>

        <table class="table">
            <thead>
                <tr>
                    <th>Timestamp</th>
                    <th>Event Type</th>
                    <th>PID</th>
                    <th>Name</th>
                    <th>Details</th>
                </tr>
            </thead>
            <tbody id="event-table"></tbody>
        </table>
    </div>

</div>

<!-- EVENT DETAIL MODAL -->
<div id="event-modal" class="modal">
    <div class="modal-content">
        <span id="modal-close">&times;</span>
        <pre id="modal-body"></pre>
    </div>
</div>

{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/processes.js') }}"></script>
{% endblock %}
